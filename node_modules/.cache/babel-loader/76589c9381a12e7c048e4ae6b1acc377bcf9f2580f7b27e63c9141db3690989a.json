{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/Front-end/Ciklum/prometheus-x-course-task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import BookItem from'../bookItem/bookItem';import{Context}from'../../context/booksProvider';import'./books-list.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BooksList(){var book=useContext(Context);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchWord=_useState2[0],setSearchWord=_useState2[1];var _useState3=useState(book.books),_useState4=_slicedToArray(_useState3,2),arrBooks=_useState4[0],setArrBooks=_useState4[1];var filter=function filter(event){setSearchWord(event.target.value);if(event.target.value.length===0){setArrBooks(book.books);}else{setArrBooks(book.books.filter(function(element){if(element.title.toLowerCase().includes(searchWord.toLowerCase())){return true;}else{return false;}}));}};function checkValues(event){switch(event.target.value){case'15':setArrBooks(book.books.filter(function(element){if(element.price<15){return true;}else{return false;}}));break;case'15-30':setArrBooks(book.books.filter(function(element){if(element.price>15&&element.price<30){return true;}else{return false;}}));break;case'30':setArrBooks(book.books.filter(function(element){if(element.price>30){return true;}else{return false;}}));break;default:break;}}if(!localStorage.authorization){document.querySelector('.navbar-toggler').classList.add('hidden');document.querySelector('.navbar-toggler').classList.remove('visible');document.location='/';}else{return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"book-search\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return filter(event);},placeholder:\"Search by book name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fieldset\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form__select\",name:\"speed\",onChange:function onChange(event){return checkValues(event);},id:\"speed\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"15\",children:\"less than 15$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"15-30\",children:\"15 - 30$\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30\",children:\"more than 30$\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsx(BookItem,{books:arrBooks})})]})});}}export default BooksList;","map":{"version":3,"names":["React","useState","useContext","BookItem","Context","jsx","_jsx","jsxs","_jsxs","BooksList","book","_useState","_useState2","_slicedToArray","searchWord","setSearchWord","_useState3","books","_useState4","arrBooks","setArrBooks","filter","event","target","value","length","element","title","toLowerCase","includes","checkValues","price","localStorage","authorization","document","querySelector","classList","add","remove","location","children","className","onChange","placeholder","name","id"],"sources":["/Users/mac/Documents/Front-end/Ciklum/prometheus-x-course-task/src/components/book-list/books-list.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport BookItem from '../bookItem/bookItem';\nimport { Context } from '../../context/booksProvider';\nimport './books-list.css';\n\nfunction BooksList() {\n    const book = useContext(Context);\n    const [searchWord, setSearchWord] = useState('')\n    const [arrBooks, setArrBooks] = useState(book.books)\n\n    const filter = (event) => {\n        setSearchWord(event.target.value);\n\n        if (event.target.value.length === 0) {\n            setArrBooks(book.books)\n        } else {\n            setArrBooks(\n                book.books.filter((element) => {\n                    if (element.title.toLowerCase().includes(searchWord.toLowerCase())) {\n                        return true\n                    } else {\n                        return false\n                    }\n                }\n                )\n            )\n        }\n    }\n\n    function checkValues(event) {\n        switch (event.target.value) {\n            case '15':\n                setArrBooks(\n                    book.books.filter((element) => {\n                        if (element.price < 15) {\n                            return true\n                        } else {\n                            return false\n                        }\n                    }\n                    )\n                );\n                break;\n            case '15-30':\n                setArrBooks(\n                    book.books.filter((element) => {\n                        if (element.price > 15 && element.price < 30) {\n                            return true\n                        } else {\n                            return false\n                        }\n                    }\n                    )\n                );\n                break;\n            case '30':\n                setArrBooks(\n                    book.books.filter((element) => {\n                        if (element.price > 30) {\n                            return true\n                        } else {\n                            return false\n                        }\n                    }\n                    )\n                );\n                break;\n            default:\n                break;\n        }\n    }\n\n    if (!localStorage.authorization) {\n        document.querySelector('.navbar-toggler').classList.add('hidden');\n        document.querySelector('.navbar-toggler').classList.remove('visible');\n        document.location = '/'\n    } else {\n        return (\n                <main>\n                    <section>\n                        <div className=\"book-search\">\n                            <input\n                                onChange={(event) => filter(event)}\n                                placeholder=\"Search by book name\" />\n                            <div className=\"form\">\n                                <div className='fieldset' >\n                                    <select\n                                        className='form__select'\n                                        name=\"speed\"\n                                        onChange={(event) => checkValues(event)}\n                                        id=\"speed\">\n                                        <option value=\"Price\">Price</option>\n                                        <option value='15'>less than 15$</option>\n                                        <option value='15-30'>15 - 30$</option>\n                                        <option value='30'>more than 30$</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"main\">\n                            <BookItem books={arrBooks}/>\n                        </div>\n                    </section>\n                </main>\n        )\n    }\n\n}\n\nexport default BooksList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}