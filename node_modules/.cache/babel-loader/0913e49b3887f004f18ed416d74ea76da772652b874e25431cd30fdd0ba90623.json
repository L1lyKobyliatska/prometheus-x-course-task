{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/Front-end/Ciklum/prometheus-x-course-task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from'react';import'./fullCart.css';import ButtonPurchase from'../buttonPurchase/buttonPurchase';import{Context}from'../../context/cartProvider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FullCart(){var book=useContext(Context);var _useState=useState(JSON.parse(localStorage.getItem('selectedBooks'))),_useState2=_slicedToArray(_useState,2),selectedBooks=_useState2[0],setSelectedBooks=_useState2[1];useEffect(function(){setSelectedBooks(book);document.querySelector('.button__purchase').removeAttribute('disabled');},[]);if(!localStorage.authorization){document.location='/';}else{if(!localStorage.selectedBooks||book.length===0){document.location='/purchase';}else{var totalPrice=selectedBooks.reduce(function(acc,selectedBooks){return acc+selectedBooks.price*selectedBooks.quantity;},0);return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsx(ButtonPurchase,{}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:selectedBooks.map(function(element){return/*#__PURE__*/_jsxs(\"div\",{className:\"products__one\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"book-title\",children:element.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"book-price\",children:[element.price,\"$\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"count\",children:element.quantity}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[element.price*element.quantity,\"$\"]})]},element.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"total\",children:[\"Total price, $ \",totalPrice]})]});}}}export default FullCart;","map":{"version":3,"names":["React","useEffect","useState","useContext","ButtonPurchase","Context","jsx","_jsx","jsxs","_jsxs","FullCart","book","_useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","selectedBooks","setSelectedBooks","document","querySelector","removeAttribute","authorization","location","length","totalPrice","reduce","acc","price","quantity","className","children","map","element","title","id"],"sources":["/Users/mac/Documents/Front-end/Ciklum/prometheus-x-course-task/src/components/fullCart/fullCart.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport './fullCart.css';\nimport ButtonPurchase from '../buttonPurchase/buttonPurchase';\nimport { Context } from '../../context/cartProvider';\n\nfunction FullCart() {\n    const book = useContext(Context);\n    const [selectedBooks, setSelectedBooks] = useState(JSON.parse(localStorage.getItem('selectedBooks')));\n\n    useEffect(() => {\n        setSelectedBooks(book);\n        document.querySelector('.button__purchase').removeAttribute('disabled')\n    }, []);\n\n    if (!localStorage.authorization) {\n        document.location = '/'\n    } else {\n        if (!localStorage.selectedBooks || book.length === 0) {\n            document.location = '/purchase'\n        } else {\n            const totalPrice = selectedBooks.reduce((acc, selectedBooks) => {\n                return acc + selectedBooks.price * selectedBooks.quantity\n            }, 0);\n\n            return (\n                <div className=\"cart-container\">\n                    <ButtonPurchase />\n                    <div className='products'>\n                        {selectedBooks.map((element) => {\n                            return (\n                                <div className='products__one' key={element.id}>\n                                    <div className='book-title'>\n                                        {element.title}\n                                    </div>\n                                    <div className='book-price'>\n                                        {element.price}$\n                                    </div>\n                                    <div className='count'>\n                                        {element.quantity}\n                                    </div>\n                                    <div className='price'>\n                                        {element.price * element.quantity}$\n                                    </div>\n                                </div>\n                            )\n                        })}\n                    </div>\n                    <div className='total'>\n                        Total price, $ {totalPrice}\n                    </div>\n                </div>\n\n            )\n        }\n\n    }\n}\n\nexport default FullCart;\n"],"mappings":"oJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAO,gBAAgB,CACvB,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAC7D,OAASC,OAAO,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErD,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAChB,GAAM,CAAAC,IAAI,CAAGR,UAAU,CAACE,OAAO,CAAC,CAChC,IAAAO,SAAA,CAA0CV,QAAQ,CAACW,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAN,SAAA,IAA9FO,aAAa,CAAAF,UAAA,IAAEG,gBAAgB,CAAAH,UAAA,IAEtChB,SAAS,CAAC,UAAM,CACZmB,gBAAgB,CAACT,IAAI,CAAC,CACtBU,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC,CAACC,eAAe,CAAC,UAAU,CAAC,CAC3E,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACR,YAAY,CAACS,aAAa,CAAE,CAC7BH,QAAQ,CAACI,QAAQ,CAAG,GAAG,CAC3B,CAAC,IAAM,CACH,GAAI,CAACV,YAAY,CAACI,aAAa,EAAIR,IAAI,CAACe,MAAM,GAAK,CAAC,CAAE,CAClDL,QAAQ,CAACI,QAAQ,CAAG,WAAW,CACnC,CAAC,IAAM,CACH,GAAM,CAAAE,UAAU,CAAGR,aAAa,CAACS,MAAM,CAAC,SAACC,GAAG,CAAEV,aAAa,CAAK,CAC5D,MAAO,CAAAU,GAAG,CAAGV,aAAa,CAACW,KAAK,CAAGX,aAAa,CAACY,QAAQ,CAC7D,CAAC,CAAE,CAAC,CAAC,CAEL,mBACItB,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3B1B,IAAA,CAACH,cAAc,IAAG,cAClBG,IAAA,QAAKyB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACpBd,aAAa,CAACe,GAAG,CAAC,SAACC,OAAO,CAAK,CAC5B,mBACI1B,KAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1B1B,IAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAC,QAAA,CACtBE,OAAO,CAACC,KAAK,EACZ,cACN3B,KAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAC,QAAA,EACtBE,OAAO,CAACL,KAAK,CAAC,GACnB,GAAM,cACNvB,IAAA,QAAKyB,SAAS,CAAC,OAAO,CAAAC,QAAA,CACjBE,OAAO,CAACJ,QAAQ,EACf,cACNtB,KAAA,QAAKuB,SAAS,CAAC,OAAO,CAAAC,QAAA,EACjBE,OAAO,CAACL,KAAK,CAAGK,OAAO,CAACJ,QAAQ,CAAC,GACtC,GAAM,GAZ0BI,OAAO,CAACE,EAAE,CAaxC,CAEd,CAAC,CAAC,EACA,cACN5B,KAAA,QAAKuB,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAC,iBACJ,CAACN,UAAU,GACxB,GACJ,CAGd,CAEJ,CACJ,CAEA,cAAe,CAAAjB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}