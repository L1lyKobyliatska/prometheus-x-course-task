{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/Front-end/Ciklum/prometheus-x-course-task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./login.css';import cart from'../../assets/cart.svg';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var singOut=function singOut(){localStorage.removeItem('username');localStorage.removeItem('authorization');},addToCart=function addToCart(){var raw=JSON.parse(localStorage.getItem('selectedBooks'));if(!raw){document.location='/purchase';}else if(raw.length===0){document.location='/purchase';}else{document.location='/fullCart';};};useEffect(function(){var raw=localStorage.getItem('username');setUsername(JSON.parse(raw));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"header__user-cart\",children:[/*#__PURE__*/_jsx(\"img\",{src:cart,onClick:addToCart,alt:\"cart\"}),/*#__PURE__*/_jsx(Link,{className:\"sing-out\",to:\"prometheus-x-course-task\",children:/*#__PURE__*/_jsx(\"button\",{className:\"sing-out__button\",onClick:singOut,type:\"button\",children:\"Sign-Out\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"user-photo\"}),/*#__PURE__*/_jsx(Link,{to:\"prometheus-x-course-task/books-list\",className:\"user\",children:username})]});}export default Login;","map":{"version":3,"names":["React","useEffect","useState","cart","Link","jsx","_jsx","jsxs","_jsxs","Login","_useState","undefined","_useState2","_slicedToArray","username","setUsername","singOut","localStorage","removeItem","addToCart","raw","JSON","parse","getItem","document","location","length","className","children","src","onClick","alt","to","type"],"sources":["/Users/mac/Documents/Front-end/Ciklum/prometheus-x-course-task/src/components/login/login.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './login.css';\nimport cart from '../../assets/cart.svg'\nimport { Link } from 'react-router-dom';\n\nfunction Login() {\n    const [username, setUsername] = useState(undefined);\n    \n    const singOut = () => {\n        localStorage.removeItem('username');\n        localStorage.removeItem('authorization');\n     },\n     addToCart = () => {\n        const raw = JSON.parse(localStorage.getItem('selectedBooks'));\n        if (!raw) {\n            document.location = '/purchase';\n        } else if (raw.length === 0) {\n            document.location = '/purchase';\n        } else {\n            document.location = '/fullCart';\n        };\n     }\n\n    useEffect(() => {\n        const raw = localStorage.getItem('username');\n        setUsername(JSON.parse(raw));\n    }, [])\n    return (\n        <div className=\"header__user-cart\">\n            <img\n                src={cart}\n                onClick={addToCart}\n                alt=\"cart\" />\n            <Link className='sing-out' to=\"prometheus-x-course-task\">\n                <button \n                className='sing-out__button'\n                onClick={singOut}\n                type=\"button\">Sign-Out</button>\n            </Link>\n            <div className=\"user-photo\"></div>\n            <Link to='prometheus-x-course-task/books-list' className='user'>{username}</Link>\n        </div>\n    )\n}\n\nexport default Login;"],"mappings":"oJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,aAAa,CACpB,MAAO,CAAAC,IAAI,KAAM,uBAAuB,CACxC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACb,IAAAC,SAAA,CAAgCR,QAAQ,CAACS,SAAS,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAA5CI,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5B,GAAM,CAAAI,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAClBC,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC,CACnCD,YAAY,CAACC,UAAU,CAAC,eAAe,CAAC,CAC3C,CAAC,CACDC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACf,GAAM,CAAAC,GAAG,CAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,eAAe,CAAC,CAAC,CAC7D,GAAI,CAACH,GAAG,CAAE,CACNI,QAAQ,CAACC,QAAQ,CAAG,WAAW,CACnC,CAAC,IAAM,IAAIL,GAAG,CAACM,MAAM,GAAK,CAAC,CAAE,CACzBF,QAAQ,CAACC,QAAQ,CAAG,WAAW,CACnC,CAAC,IAAM,CACHD,QAAQ,CAACC,QAAQ,CAAG,WAAW,CACnC,CAAC,CACJ,CAAC,CAEFxB,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAmB,GAAG,CAAGH,YAAY,CAACM,OAAO,CAAC,UAAU,CAAC,CAC5CR,WAAW,CAACM,IAAI,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CAChC,CAAC,CAAE,EAAE,CAAC,CACN,mBACIZ,KAAA,QAAKmB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BtB,IAAA,QACIuB,GAAG,CAAE1B,IAAK,CACV2B,OAAO,CAAEX,SAAU,CACnBY,GAAG,CAAC,MAAM,EAAG,cACjBzB,IAAA,CAACF,IAAI,EAACuB,SAAS,CAAC,UAAU,CAACK,EAAE,CAAC,0BAA0B,CAAAJ,QAAA,cACpDtB,IAAA,WACAqB,SAAS,CAAC,kBAAkB,CAC5BG,OAAO,CAAEd,OAAQ,CACjBiB,IAAI,CAAC,QAAQ,CAAAL,QAAA,CAAC,UAAQ,EAAS,EAC5B,cACPtB,IAAA,QAAKqB,SAAS,CAAC,YAAY,EAAO,cAClCrB,IAAA,CAACF,IAAI,EAAC4B,EAAE,CAAC,qCAAqC,CAACL,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEd,QAAQ,EAAQ,GAC/E,CAEd,CAEA,cAAe,CAAAL,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}